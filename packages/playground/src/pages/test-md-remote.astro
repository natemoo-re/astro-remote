---
import { Markdown } from "astro-remote";
import CodeSpan from "../components/CodeSpan.astro";
import CodeBlock from "../components/CodeBlock.astro";
import Heading from "../components/Heading.astro";
import Note from "../components/Note.astro";
import markedAlert from 'marked-alert'

const readme = await fetch("https://raw.githubusercontent.com/natemoo-re/astro-remote/main/packages/astro-remote/README.md").then((res) => res.text());
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Astro</title>
  </head>
  <body>
    <div class="markdown">
      <h1>Test: Markdown-External(MD Parse and write)</h1>
      <p>Test Generated from: "https://raw.githubusercontent.com/natemoo-re/astro-remote/main/packages/astro-remote/README.md"</p>
      <Markdown 
        sanitize={{ allowComponents: true }}
        content={readme} 
        components={{ Heading, CodeBlock, CodeSpan, Note }}
        marked={{extensions: [markedAlert()]}}
      />
    </div>
  </body>
</html>